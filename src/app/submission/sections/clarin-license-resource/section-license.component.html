<button id="secret-change-button" type="button" (click)="changeLicenseNameFromRef()" style="display: none">
</button>
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <div class="distribution_licnese_head">
        {{'submission.sections.clarin-license.head.license-select-resource' | translate}}
      </div>
    </div>
    <div class="col-md-12">
      <div id="aspect_submission_StepTransformer_item_" class="form-group alert alert-primary">
        <div id="placeholder">
          <span>{{'submission.sections.clarin-license.head.license-select-providing.0' | translate}}</span>
          <span>
            <a href="/repository/xmlui/page/licenses" class="target_blank alert-link" target="_blank">
              {{'submission.sections.clarin-license.head.license-select-providing.1' | translate}}
            </a>
          </span>
          <span>{{'submission.sections.clarin-license.head.license-select-providing.2' | translate}}</span>
          <button id="button-holder" (click)="clickLicense()"
                  class="btn btn-repository licenseselector bold btn-block btn-lg">
            <a>{{'submission.sections.clarin-license.head.license-open-selector' | translate}}</a>
          </button>
        </div>
      </div>
    </div>
    <div class="col-md-12">
      <div class="form-group text-center">
        {{'submission.sections.clarin-license.head.license-select-or' | translate}}
      </div>
    </div>
    <div class="col-md-12">
      <div class="form-group">
            <span class="license-resource-text">
              {{'submission.sections.clarin-license.head.license-dropdown-info' | translate}}
            </span>
      </div>
    </div>
    <div class="col-md-12">
      <div class="form-group alert alert-danger in" [hidden]="(unsupportedLicenseMsgHidden | async)">
        {{'submission.sections.clarin-license.head.license-not-supported-message' | translate}}
      </div>
    </div>
    <div class="col-md-12">
      <div class="form-group">

        <!-- working -->
<!--        <ng-select [(ngModel)]="selectedLicenseFromOptionId"-->
<!--                   (change)="selectLicense()" bindLabel="name" bindValue="id">-->
<!--          <ng-option *ngFor="let car of licenses4Selector" [value]="car.id">{{car.name}}</ng-option>-->
<!--        </ng-select>-->

        <ng-select [items]="(licenses4Selector$ | async)"
                   [(ngModel)]="selectedLicenseFromOptionId"
                   bindLabel="name"
                   bindValue="id"
                   id="aspect_submission_StepTransformer_field_license">
          <ng-template ng-label-tmp let-item="item">
            <b>{{item.name}}</b>
          </ng-template>

          <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm" id="license_option">
            <span [class]="'label label-' + item.licenseLabel">{{item.licenseLabel}}</span>
            <b [ngOptionHighlight]="search">{{item.name}}</b>
          </ng-template>
        </ng-select>

<!-- OLD -->

<!--        <div class="d-inline">-->
<!--          <img [src]="secureImageData()" alt="" width="24px">-->
<!--        </div>-->
<!--        <select #licenseSelection [(ngModel)]="selectedLicenseFromOptionId" (change)="selectLicense()"-->
<!--                id="aspect_submission_StepTransformer_field_license"-->
<!--                class="form-control" name="license" tabindex="-1" title="">-->
<!--          <option [value]="'0'" selected="selected">-->
<!--            {{'submission.sections.clarin-license.head.license-select-default-value' | translate}}-->
<!--          </option>-->

<!--          <option *ngFor="let license of licenses4Selector" [value]="license.id" id="license_option">-->
<!--            <span>{{license.name}}</span>-->
<!--          </option>-->
<!--        </select>-->



      </div>
    </div>
    <div class="col-md-12">
      <div id="aspect_submission_StepTransformer_list_accordion_lic" class="accordion">
        <div id="aspect_submission_StepTransformer_list_accordion-group_lic_1"
             class="accordion-group hidden">
          <div class="accordion-heading">
            <a href="#aspect_submission_StepTransformer_list_accordion-body_lic_1"
               data-toggle="collapse"
               data-parent="#aspect_submission_StepTransformer_list_accordion_lic">
              <span class="bold">{{'submission.sections.clarin-license.head.license-more-details' | translate}}</span>
            </a>
          </div>
          <div id="aspect_submission_StepTransformer_list_accordion-body_lic_1"
               class="accordion-body collapse">
            <div class="accordion-inner">
              <ul id="aspect_submission_StepTransformer_list_license-list" class="">
                <li *ngFor="let license of licenses4Selector$ | async">
                  <a [name]="'license_'+license.id" target="" [href]="license.url">{{license.name}}</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-md-12 alert alert-warning">
    <div id="" class="form-group bold">
      {{'submission.sections.clarin-license.head.license-do-not-suits-needs' | translate}}
    </div>
    <div class="form-group">
      {{'submission.sections.clarin-license.head.license-not-offer-proceeds' | translate}}
    </div>
    <ul id="aspect_submission_StepTransformer_list_steps" class="ds-bulleted-list">
      <li>{{'submission.sections.clarin-license.head.license-not-offer-proceed-link' | translate}}</li>
      <li>{{'submission.sections.clarin-license.head.license-not-offer-proceed-email.0' | translate}}
        <a [href]="'mailto:'+(helpDesk$ | async)?.payload?.values[0]">
          {{'submission.sections.clarin-license.head.license-not-offer-proceed-email.1' | translate}}
        </a>
        {{'submission.sections.clarin-license.head.license-not-offer-proceed-email.2' | translate}}
      </li>
      <li>{{'submission.sections.clarin-license.head.license-not-offer-proceed-wait' | translate}}
      </li>
      <li>
        {{'submission.sections.clarin-license.head.license-not-offer-proceed-continue' | translate}}
      </li>
    </ul>
  </div>

</div>
